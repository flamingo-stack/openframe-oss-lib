<!-- source-hash: 9e30498ab101cd0edf8cd91c9d30cfab -->
A wrapper class that extracts and provides clean access to authenticated user information from JWT tokens, eliminating the need to work with raw JWT claims throughout the application.

## Key Components

- **Static Factory Method**: `fromJwt(Jwt jwt)` - Creates AuthPrincipal instance from JWT token with intelligent claim mapping
- **User Properties**: `id`, `email`, `firstName`, `lastName` - Basic user identity information
- **Authorization Data**: `roles`, `scopes` - User permissions and OAuth scopes
- **Tenant Context**: `tenantId`, `tenantDomain` - Multi-tenant organization information  
- **Actor Classification**: `actorType`, `machineId` - Distinguishes between human users (ADMIN) and service accounts (AGENT)
- **Display Helper**: `getDisplayName()` - Generates user-friendly name with fallback logic

## Usage Example

```java
// Extract principal from JWT in a Spring Security context
@RestController
public class UserController {
    
    @GetMapping("/profile")
    public ResponseEntity<UserProfile> getProfile(JwtAuthenticationToken token) {
        AuthPrincipal principal = AuthPrincipal.fromJwt(token.getToken());
        
        // Clean access to user information
        String userId = principal.getId();
        String email = principal.getEmail();
        String displayName = principal.getDisplayName();
        List<String> roles = principal.getRoles();
        String tenantId = principal.getTenantId();
        
        // Check actor type for business logic
        if (principal.getActorType() == ActorType.AGENT) {
            // Handle service account differently
            String machineId = principal.getMachineId();
            // ... agent-specific logic
        }
        
        return ResponseEntity.ok(new UserProfile(displayName, email, roles));
    }
}
```