<!-- source-hash: ec58448c22a2f09aa2dcc166a7734b7c -->
A Spring service that provides cached machine and organization information lookups using lightweight DTOs to optimize performance and reduce serialization overhead.

## Key Components

**Main Class:**
- `MachineIdCacheService` - Caching service with conditional bean instantiation

**Key Methods:**
- `getMachine(String agentId)` - Retrieves cached machine info by agent ID
- `getOrganization(String organizationId)` - Retrieves cached organization info by ID

**Dependencies:**
- `ToolConnectionRepository` - For agent-to-machine mapping
- `MachineRepository` - For machine data access  
- `OrganizationRepository` - For organization data access

**Cache Configuration:**
- Uses `machineCache` and `organizationCache` with Spring Cache abstraction
- Conditional caching (excludes null results)
- Only activates when MongoDB repositories are available

## Usage Example

```java
@Autowired
private MachineIdCacheService cacheService;

// Get machine info by agent ID
CachedMachineInfo machine = cacheService.getMachine("agent-123");
if (machine != null) {
    String machineId = machine.getMachineId();
    String hostname = machine.getHostname();
    String orgId = machine.getOrganizationId();
}

// Get organization info by ID  
CachedOrganizationInfo org = cacheService.getOrganization("org-456");
if (org != null) {
    String name = org.getName();
    String organizationId = org.getOrganizationId();
}
```

The service automatically handles cache misses by querying the database and populating the cache for subsequent requests. Error handling ensures null returns on exceptions while logging issues for debugging.