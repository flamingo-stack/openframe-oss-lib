<!-- source-hash: 3f27842da99d1fed2e8a091e50f84778 -->
A Spring repository implementation that provides device filtering and counting capabilities using Apache Pinot as the analytical data store. This repository handles complex multi-dimensional filtering queries for device data analysis.

## Key Components

- **PinotClientDeviceRepository**: Main repository class implementing `PinotDeviceRepository`
- **Filter Option Methods**: `getStatusFilterOptions()`, `getDeviceTypeFilterOptions()`, `getOsTypeFilterOptions()`, `getOrganizationFilterOptions()`, `getTagFilterOptions()`
- **Count Method**: `getFilteredDeviceCount()` - returns total count of devices matching filters
- **Query Builders**: `buildWhereClause()` and `buildWhereClauseExcluding()` for dynamic SQL construction
- **Query Executors**: `queryPinotForFilterOptions()` and `queryPinotForCount()` for Pinot interaction

## Usage Example

```java
@Autowired
private PinotDeviceRepository deviceRepository;

public void getDeviceAnalytics() {
    // Get available filter options excluding current device type filters
    List<String> currentDeviceTypes = Arrays.asList("mobile", "tablet");
    List<String> statuses = Arrays.asList("active");
    
    Map<String, Integer> statusOptions = deviceRepository.getStatusFilterOptions(
        statuses, currentDeviceTypes, null, null, null
    );
    
    // Get total filtered count
    int totalDevices = deviceRepository.getFilteredDeviceCount(
        Arrays.asList("active", "inactive"),
        Arrays.asList("mobile"),
        null,
        Arrays.asList("org1", "org2"),
        null
    );
    
    log.info("Found {} devices matching criteria", totalDevices);
}
```

The repository uses Spring's `@Repository` annotation and integrates with Pinot through a qualified connection bean. It supports dynamic filtering across device status, type, OS, organization, and tags with efficient GROUP BY queries for analytics.