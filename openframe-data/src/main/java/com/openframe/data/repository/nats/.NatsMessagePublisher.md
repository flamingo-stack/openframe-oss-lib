<!-- source-hash: 498ee6c1d05f0f03ac74cf160d74251d -->
A Spring service that publishes messages to NATS subjects using both streaming and persistent JetStream patterns. This publisher is conditionally enabled when Spring Cloud Stream is active and provides both fire-and-forget messaging and durable JetStream publishing capabilities.

## Key Components

- **publish()** - Publishes transient messages through Spring Cloud Stream with success validation
- **publishPersistent()** - Publishes durable messages to NATS JetStream for guaranteed delivery
- **StreamBridge** - Spring Cloud Stream abstraction for message publishing
- **ObjectMapper** - JSON serialization for JetStream message bodies
- **Connection** - Direct NATS connection for JetStream operations

## Usage Example

```java
@Autowired
private NatsMessagePublisher publisher;

// Publish transient message via Spring Cloud Stream
UserEvent event = new UserEvent("user123", "LOGIN");
publisher.publish("user.events", event);

// Publish persistent message via JetStream
OrderCreated order = new OrderCreated("order456", userId, items);
publisher.publishPersistent("orders.created", order);

// Both methods throw NatsException on failure
try {
    publisher.publish("notifications", notification);
} catch (NatsException e) {
    log.error("Failed to publish notification", e);
}
```

The service automatically handles message wrapping for Spring Cloud Stream and JSON serialization for JetStream, providing a clean abstraction over NATS messaging patterns.