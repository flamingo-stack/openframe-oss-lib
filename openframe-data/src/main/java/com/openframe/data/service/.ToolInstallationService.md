<!-- source-hash: 85963aa6938d5200c1243a2f57fe70f6 -->
This service handles the processing and publishing of tool installation requests for integrated tools on remote machines via NATS messaging.

## Key Components

- **process()** - Main method that processes tool installation requests, with optional reinstall flag
- **getIntegratedToolData()** - Retrieves integrated tool configuration data by tool ID
- **IntegratedToolService** - Dependency for fetching tool metadata
- **ToolCommandParamsResolver** - Processes and resolves command parameters for installation and runtime
- **ToolInstallationNatsPublisher** - Publishes installation messages to NATS for remote execution

## Usage Example

```java
@Autowired
private ToolInstallationService toolInstallationService;

// Process tool installation for a machine
IntegratedToolAgent toolAgent = new IntegratedToolAgent();
toolAgent.setToolId("monitoring-agent");
toolAgent.setInstallationCommandArgs(Arrays.asList("--config", "/etc/config"));
toolAgent.setRunCommandArgs(Arrays.asList("--daemon"));

// Install tool on target machine
toolInstallationService.process("machine-123", toolAgent);

// Force reinstall existing tool
toolInstallationService.process("machine-123", toolAgent, true);
```

The service automatically resolves command parameters, retrieves tool metadata, and publishes installation messages asynchronously. It's conditionally enabled based on the `spring.cloud.stream.enabled` property and includes error handling with logging for failed installations.