<!-- source-hash: e78e8eb15a9398be1f14312a29a2a570 -->
Service implementation that handles machine, machine tag, and tag entity events by processing database changes and publishing corresponding Kafka messages to keep downstream systems synchronized.

## Key Components

- **Event Processing Methods**: `processMachineSave()`, `processMachineTagSave()`, `processTagSave()` and their batch variants handle entity lifecycle events
- **Kafka Integration**: `sendMachineEventToKafka()`, `sendMachineTagEventToKafka()`, `sendTagEventToKafka()` publish messages to configured topics
- **Data Fetching Utilities**: `fetchMachineTags()`, `fetchMachine()`, `fetchMachineIdsForTag()` retrieve related entity data
- **Message Builder**: `buildMachinePinotMessage()` constructs Kafka messages with complete machine and tag information
- **Batch Processing**: Handles collections of entities with deduplication logic for machine tags

## Usage Example

```java
@Autowired
private MachineTagEventService eventService;

// Process single machine save
Machine machine = new Machine();
machine.setMachineId("machine-123");
machine.setOrganizationId("org-456");
eventService.processMachineSave(machine);

// Process machine tag association
MachineTag machineTag = new MachineTag();
machineTag.setMachineId("machine-123");
machineTag.setTagId("tag-789");
eventService.processMachineTagSave(machineTag);

// Process tag updates (affects all associated machines)
Tag tag = new Tag();
tag.setId("tag-789");
tag.setName("production");
eventService.processTagSave(tag);
```

This service is conditionally enabled via `openframe.device.aspect.enabled` property and automatically publishes machine data changes to the configured Kafka topic for real-time synchronization with analytical systems like Apache Pinot.