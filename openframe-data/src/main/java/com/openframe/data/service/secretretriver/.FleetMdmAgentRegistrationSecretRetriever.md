<!-- source-hash: 820a17f86b0a7e51b6a56c88d1c000b4 -->
Retrieves agent registration secrets from Fleet MDM servers by connecting to the Fleet MDM API and fetching enrollment credentials. This component is conditionally enabled based on integration tool configuration.

## Key Components

- **FleetMdmAgentRegistrationSecretRetriever**: Main service class implementing `ToolAgentRegistrationSecretRetriever`
- **getSecret()**: Core method that retrieves enrollment secrets from Fleet MDM API
- **getToolId()**: Returns the static tool identifier "fleetmdm-server"
- **Dependencies**: 
  - `IntegratedToolService`: Manages tool configurations
  - `ToolUrlService`: Handles tool URL resolution
  - `FleetMdmClient`: SDK client for Fleet MDM communication

## Usage Example

```java
@Autowired
private FleetMdmAgentRegistrationSecretRetriever secretRetriever;

// Get the tool identifier
String toolId = secretRetriever.getToolId(); // Returns "fleetmdm-server"

// Retrieve the enrollment secret
try {
    String enrollSecret = secretRetriever.getSecret();
    // Use the secret for agent registration
    agentService.registerWithSecret(enrollSecret);
} catch (IllegalStateException e) {
    log.error("Failed to get Fleet MDM secret: {}", e.getMessage());
}
```

The component automatically constructs the Fleet MDM client using stored API credentials and URL configuration, then fetches the enrollment secret needed for agent registration.