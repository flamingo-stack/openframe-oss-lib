{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended"
  ],
  "hostRules": [
    {
      "hostType": "maven",
      "matchHost": "maven.pkg.github.com"
    }
  ],
  "packageRules": [
    {
      "description": "Ignore all internal com.openframe.oss packages except openframe-oss-lib (this repo publishes them)",
      "matchPackagePatterns": [
        "^com\\.openframe\\.oss:(?!openframe-oss-lib$)"
      ],
      "enabled": false
    },
    {
      "description": "Enable updates for openframe-oss-lib parent version with automerge",
      "matchPackageNames": ["com.openframe.oss:openframe-oss-lib"],
      "enabled": true,
      "automerge": true,
      "automergeType": "pr"
    },
    {
      "description": "Only enable regex manager for revision tracking",
      "matchManagers": ["regex"],
      "enabled": true
    },
    {
      "description": "Disable all other managers including Maven and GitHub Actions",
      "excludeManagers": ["regex"],
      "enabled": false
    }
  ],
  "regexManagers": [
    {
      "fileMatch": ["^pom\\.xml$"],
      "matchStrings": [
        "<revision>(?<currentValue>.*?)</revision>"
      ],
      "depNameTemplate": "com.openframe.oss:openframe-oss-lib",
      "datasourceTemplate": "maven",
      "registryUrlsTemplate": "https://maven.pkg.github.com/flamingo-stack/openframe-oss-lib"
    }
  ]
}
