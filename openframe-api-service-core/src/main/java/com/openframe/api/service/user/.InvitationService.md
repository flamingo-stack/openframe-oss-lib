<!-- source-hash: eec7a7a793ea85ab54117babe2299da0 -->
Service class that manages user invitation lifecycle including creation, listing, and revocation. Handles validation, email notifications, and post-processing for tenant-based user invitations.

## Key Components

- **createInvitation()** - Creates new invitations with duplicate email validation and automated email sending
- **listInvitations()** - Retrieves paginated invitation lists with full page metadata
- **revokeInvitation()** - Updates pending invitations to revoked status with validation
- **InvitationRepository** - Data access layer for invitation persistence
- **InvitationProcessor** - Handles post-processing workflows for invitation state changes
- **EmailService** - Sends invitation emails to recipients

## Usage Example

```java
@RestController
@RequiredArgsConstructor
public class InvitationController {
    
    private final InvitationService invitationService;
    
    // Create invitation
    @PostMapping("/invitations")
    public InvitationResponse createInvitation(@RequestBody CreateInvitationRequest request) {
        return invitationService.createInvitation(request);
    }
    
    // List with pagination
    @GetMapping("/invitations")
    public InvitationPageResponse listInvitations(
            @RequestParam(defaultValue = "0") int page,
            @RequestParam(defaultValue = "20") int size) {
        return invitationService.listInvitations(page, size);
    }
    
    // Revoke invitation
    @PutMapping("/invitations/{id}/revoke")
    public void revokeInvitation(@PathVariable String id) {
        invitationService.revokeInvitation(id);
    }
}
```

The service enforces business rules like preventing duplicate user invitations and ensuring only pending invitations can be revoked, while providing comprehensive logging and error handling.