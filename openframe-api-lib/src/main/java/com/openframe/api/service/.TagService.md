<!-- source-hash: e9a7ae6bcab4cd472530fdc9abb2c346 -->
A Spring service that provides efficient tag retrieval functionality for machines, supporting both individual and bulk operations with optimized database queries.

## Key Components

- **`getTagsForMachines(List<String> machineIds)`** - Core bulk operation that retrieves tags for multiple machines using optimized database queries and maintains order consistency
- **`getTagsForMachine(String machineId)`** - Single machine tag retrieval method for simpler use cases
- **TagRepository** - Repository for accessing Tag entities
- **MachineTagRepository** - Repository for accessing MachineTag relationship entities
- **Bulk loading optimization** - Uses `findByMachineIdIn()` and `findAllById()` to minimize database roundtrips
- **Order preservation** - Results maintain the same order as the input machine IDs

## Usage Example

```java
@Autowired
private TagService tagService;

// Get tags for a single machine
List<Tag> singleMachineTags = tagService.getTagsForMachine("machine123");

// Get tags for multiple machines (bulk operation)
List<String> machineIds = Arrays.asList("machine1", "machine2", "machine3");
List<List<Tag>> allMachineTags = tagService.getTagsForMachines(machineIds);

// Process results - tags are returned in same order as machine IDs
for (int i = 0; i < machineIds.size(); i++) {
    String machineId = machineIds.get(i);
    List<Tag> tags = allMachineTags.get(i);
    System.out.println("Machine " + machineId + " has " + tags.size() + " tags");
}
```

The service uses a two-phase bulk loading strategy: first loading all machine-tag relationships, then bulk loading the actual tag data, making it highly efficient for scenarios involving multiple machines.