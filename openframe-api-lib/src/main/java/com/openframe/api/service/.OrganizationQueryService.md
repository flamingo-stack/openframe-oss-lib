<!-- source-hash: ad45cd8d0d3e4defe3df1b62e59380be -->
A service class that handles complex querying of organizations with filtering, pagination, search, and sorting capabilities. It follows the ToolService pattern by performing filtering operations at the MongoDB database level for optimal performance.

## Key Components

- **`queryOrganizations()`** - Main query method that orchestrates filtering, pagination, search, and sorting
- **`fetchPageItems()`** - Retrieves paginated results using cursor-based pagination
- **`buildPageInfo()`** - Constructs pagination metadata including cursor positions and navigation flags
- **`buildQueryFilter()`** - Converts filter options into MongoDB query filters
- **`validateSortField()`** - Validates and sanitizes sort field inputs with fallback to defaults

## Usage Example

```java
@Autowired
private OrganizationQueryService queryService;

public void searchOrganizations() {
    // Set up filter criteria
    OrganizationFilterOptions filters = OrganizationFilterOptions.builder()
        .category("Technology")
        .minEmployees(50)
        .maxEmployees(1000)
        .hasActiveContract(true)
        .build();
    
    // Configure pagination
    CursorPaginationCriteria pagination = CursorPaginationCriteria.builder()
        .limit(20)
        .cursor("cursor_id_123")
        .build();
    
    // Set up sorting
    SortInput sort = SortInput.builder()
        .field("name")
        .direction(SortDirection.ASC)
        .build();
    
    // Execute query
    CountedGenericQueryResult<Organization> result = queryService.queryOrganizations(
        filters, pagination, "search term", sort);
    
    // Access results
    List<Organization> organizations = result.getItems();
    CursorPageInfo pageInfo = result.getPageInfo();
    boolean hasMore = pageInfo.isHasNextPage();
}
```

The service leverages MongoDB's native querying capabilities for efficient data retrieval and supports cursor-based pagination for consistent results across large datasets.