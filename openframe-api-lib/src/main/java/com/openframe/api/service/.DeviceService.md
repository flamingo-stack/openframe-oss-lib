<!-- source-hash: 8e6c1be4721f6e11163389053cc2bc29 -->
A Spring service class that manages device/machine operations in the OpenFrame MSP platform, providing CRUD operations, filtering, pagination, and status management for IT infrastructure devices.

## Key Components

- **findByMachineId()** - Retrieves a specific device by its machine ID
- **queryDevices()** - Performs filtered and paginated device queries with search capabilities
- **softDeleteByMachineId()** - Marks devices as deleted without physical removal
- **updateStatusByMachineId()** - Updates device status and triggers post-processing
- **buildDeviceQuery()** - Constructs MongoDB queries with filters and tag resolution
- **resolveTagNamesToMachineIds()** - Maps tag names to associated machine IDs for filtering

## Usage Example

```java
@Autowired
private DeviceService deviceService;

// Find a specific device
Optional<Machine> device = deviceService.findByMachineId("WORKSTATION-001");

// Query devices with filters
DeviceFilterOptions filters = new DeviceFilterOptions();
filters.setStatuses(List.of(DeviceStatus.ONLINE));
filters.setTagNames(List.of("production", "critical"));

CursorPaginationCriteria pagination = new CursorPaginationCriteria();
pagination.setLimit(20);

CountedGenericQueryResult<Machine> results = deviceService.queryDevices(
    filters, pagination, "server"
);

// Update device status
deviceService.updateStatusByMachineId("WORKSTATION-001", DeviceStatus.MAINTENANCE);

// Soft delete device
deviceService.softDeleteByMachineId("OLD-MACHINE-123");
```

The service integrates with MongoDB repositories and includes cursor-based pagination for efficient large dataset handling in MSP environments.