<!-- source-hash: 2dfa15b05bfdb4e8574cda1bbeafc49c -->
Service class responsible for managing device/machine operations including querying, filtering, and status updates with cursor-based pagination support.

## Key Components

- **findByMachineId()** - Retrieves a machine by its unique machine ID
- **queryDevices()** - Executes filtered and paginated device queries with search capabilities
- **softDeleteByMachineId()** - Marks a device as deleted without physical removal
- **updateStatusByMachineId()** - Updates device status with timestamp tracking
- **buildDeviceQuery()** - Constructs MongoDB queries with filters and tag resolution
- **resolveTagNamesToMachineIds()** - Maps tag names to associated machine IDs

## Usage Example

```java
@Autowired
private DeviceService deviceService;

// Find a specific device
Optional<Machine> device = deviceService.findByMachineId("machine-123");

// Query devices with filters and pagination
DeviceFilterOptions filters = new DeviceFilterOptions();
filters.setStatuses(List.of(DeviceStatus.ONLINE, DeviceStatus.OFFLINE));
filters.setTagNames(List.of("production", "critical"));

CursorPaginationCriteria pagination = new CursorPaginationCriteria();
pagination.setLimit(20);

CountedGenericQueryResult<Machine> result = deviceService.queryDevices(
    filters, pagination, "server");

// Update device status
deviceService.updateStatusByMachineId("machine-123", DeviceStatus.MAINTENANCE);

// Soft delete a device
deviceService.softDeleteByMachineId("machine-456");
```