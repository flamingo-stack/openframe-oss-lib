<!-- source-hash: eaffcbbbfd5d0d660f424dc26f257ada -->
A Spring Boot scheduled component that automatically initializes default OAuth2 client configuration for the OpenFrame Identity Provider (IdP) system on startup.

## Key Components

- **@Scheduled Method**: `initializeDefaultIdp()` - Runs once on startup with distributed locking to create default OAuth2 client
- **Configuration Properties**: Injected values for gateway OAuth settings including client credentials, redirect URI, and token expiration times
- **MongoRegisteredClient**: Builder pattern used to create OAuth2 client with PKCE support and standard grant types
- **ShedLock Integration**: Prevents duplicate initialization in clustered environments using `@SchedulerLock`
- **Conditional Activation**: Only runs when `openframe.management.idp.init.enabled=true` property is set

## Usage Example

To enable the scheduler, configure the following properties:

```java
# Enable the scheduler
openframe.management.idp.init.enabled=true

# Gateway OAuth configuration
openframe.gateway.oauth.client-id=openframe-gateway
openframe.gateway.oauth.client-secret=your-secret-here
openframe.gateway.oauth.redirect-uri=http://localhost:8080/login/oauth2/code/openframe

# Token expiration settings
security.oauth2.token.access.expiration-seconds=3600
security.oauth2.token.refresh.expiration-seconds=86400
```

The scheduler automatically creates a default OAuth2 client with:
- Authorization code and refresh token grant types
- PKCE requirement enabled
- Standard OpenID Connect scopes (openid, profile, email)
- Configurable token expiration times