<!-- source-hash: d7b31115cf822d0d34664b6fdefdb4a3 -->
Service that discovers available tenants and authentication providers for user email addresses during login flows.

## Key Components

- **`discoverTenantForEmail(String email)`** - Main discovery method that returns tenant access and auth providers for an email
- **`getAvailableAuthProviders(Tenant tenant)`** - Private method that retrieves all available SSO and default auth providers for a tenant
- **`TenantDiscoveryResponse`** - Response DTO containing tenant ID, auth providers, and account existence status
- **Dependencies**: `UserService`, `TenantService`, `SSOConfigService`, `GlobalDomainPolicyLookup`

## Usage Example

```java
@Autowired
private TenantDiscoveryService discoveryService;

// Discover tenant access for a user email
TenantDiscoveryResponse response = discoveryService.discoverTenantForEmail("user@company.com");

if (response.isHasExistingAccounts()) {
    String tenantId = response.getTenantId();
    List<String> authProviders = response.getAuthProviders();
    // Redirect to appropriate auth provider
} else {
    // Show registration or access denied page
}
```

The service uses a fallback strategy: first checks existing users, then domain-based auto-provisioning configs, and finally global domain policies to determine tenant access and available authentication methods.