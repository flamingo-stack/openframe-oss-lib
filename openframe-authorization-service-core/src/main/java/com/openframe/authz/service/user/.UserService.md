<!-- source-hash: c3cae673d2220865ea16b375cb0d29e4 -->
A service layer component that handles core user management operations for the authorization server, including user registration, authentication lookups, and lifecycle management with multi-tenant support.

## Key Components

- **findActiveByEmail/findActiveByEmailAndTenant** - Retrieval methods for active users by email with optional tenant filtering
- **existsByEmailAndTenant** - Checks user existence within a specific tenant
- **registerUser** - Handles new user registration or reactivation of deleted users with conflict detection
- **deactivateUser/reactivateUser** - Manages user lifecycle transitions between active and deleted states
- **updatePassword** - Secure password update functionality with encoding
- **createUser** - Private method for creating new user entities with default settings

## Usage Example

```java
@Autowired
private UserService userService;

// Find active user for authentication
Optional<AuthUser> user = userService.findActiveByEmailAndTenant(
    "user@example.com", "tenant-123"
);

// Register new user with roles
List<UserRole> roles = List.of(UserRole.USER);
AuthUser newUser = userService.registerUser(
    "tenant-123",
    "newuser@example.com",
    "John",
    "Doe",
    "securePassword",
    roles
);

// Update user password
userService.updatePassword(user.getId(), "newPassword123");

// Deactivate user account
userService.deactivateUser(existingUser);
```