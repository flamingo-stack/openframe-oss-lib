<!-- source-hash: 5ccff799dbece8cbdd9e411f3debd690 -->
Core service for user management in the OpenFrame authorization server, handling user registration, authentication, and lifecycle operations across multi-tenant environments.

## Key Components

- **User Lookup Methods**: `findActiveByEmail()`, `findActiveByEmailAndTenant()`, `existsByEmailAndTenant()`
- **Registration Operations**: `registerUser()`, `registerUserFromInvitation()`, `registerOrReactivateFromSso()`
- **User Lifecycle**: `deactivateUser()`, `reactivateUser()` for soft delete/restore functionality
- **Password Management**: `updatePassword()` with secure encoding
- **Authentication Support**: `touchLastLogin()`, `markEmailVerified()` for login tracking and email verification

## Usage Example

```java
@Autowired
private UserService userService;

// Register a new user with roles
List<UserRole> roles = List.of(UserRole.ADMIN, UserRole.USER);
AuthUser user = userService.registerUser(
    "tenant-123", 
    "user@example.com", 
    "John", 
    "Doe", 
    "password123", 
    roles
);

// Find active user by email and tenant
Optional<AuthUser> found = userService.findActiveByEmailAndTenant(
    "user@example.com", 
    "tenant-123"
);

// Handle SSO registration (auto-verified)
AuthUser ssoUser = userService.registerOrReactivateFromSso(
    "tenant-123",
    "sso@example.com",
    "Jane",
    "Smith", 
    roles,
    "google"
);

// Update login timestamp
userService.touchLastLogin("user@example.com", "tenant-123");
```