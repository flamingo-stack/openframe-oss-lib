<!-- source-hash: f29d2e5fe94b69f688b6a434a5c584b6 -->
Utility class for extracting and processing user information from OIDC (OpenID Connect) authentication tokens, with special handling for Azure Active Directory organizational accounts.

## Key Components

- **`resolveEmail(OidcUser user)`** - Attempts to resolve an email-like identifier from OIDC claims using a fallback hierarchy
- **`stringClaim(Object value)`** - Helper method to safely extract non-blank string values from claim objects

## Usage Example

```java
import com.openframe.authz.util.OidcUserUtils;
import org.springframework.security.oauth2.core.oidc.user.OidcUser;

// Resolve user email with fallback logic
@GetMapping("/profile")
public ResponseEntity<UserProfile> getUserProfile(OidcUser oidcUser) {
    String email = OidcUserUtils.resolveEmail(oidcUser);
    if (email == null) {
        return ResponseEntity.badRequest().build();
    }
    
    UserProfile profile = new UserProfile();
    profile.setEmail(email);
    profile.setName(oidcUser.getFullName());
    
    return ResponseEntity.ok(profile);
}

// Safe string extraction from claims
String department = OidcUserUtils.stringClaim(oidcUser.getClaims().get("department"));
```

The `resolveEmail` method follows a specific priority order: `email` → `preferred_username` → `upn` → `unique_name`, making it particularly useful for Azure AD integration where different claim types may be present depending on account configuration.