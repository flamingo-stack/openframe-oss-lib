<!-- source-hash: f29d2e5fe94b69f688b6a434a5c584b6 -->
A utility class that provides helper methods for extracting and processing claims from OpenID Connect (OIDC) user objects, with special handling for Azure AD organizational accounts.

## Key Components

- **`resolveEmail(OidcUser user)`** - Intelligently extracts email-like identifiers from OIDC claims using a fallback chain
- **`stringClaim(Object value)`** - Safely converts claim values to non-blank strings or null

## Usage Example

```java
import com.openframe.authz.util.OidcUserUtils;
import org.springframework.security.oauth2.core.oidc.user.OidcUser;

@Service
public class UserService {
    
    public String getUserIdentifier(OidcUser user) {
        // Resolves email with AAD fallbacks: email -> preferred_username -> upn -> unique_name
        String email = OidcUserUtils.resolveEmail(user);
        return email != null ? email : "unknown@example.com";
    }
    
    public String getUserDepartment(OidcUser user) {
        // Safely extract custom claims
        Object deptClaim = user.getClaims().get("department");
        return OidcUserUtils.stringClaim(deptClaim);
    }
}
```

The `resolveEmail` method implements a robust fallback strategy specifically designed for Azure Active Directory organizational accounts, which may not always populate the standard `email` claim but provide alternatives like `preferred_username`, `upn`, or `unique_name`.