<!-- source-hash: 69616bd022f296bc0a45616f9d1d1da4 -->
This Spring Security configuration class establishes authentication and authorization for non-Authorization Server requests in OpenFrame's multi-tenant SSO system. It configures OAuth2/OIDC login flows with tenant-specific customizations and auto-provisioning capabilities.

## Key Components

- **defaultSecurityFilterChain**: Main security filter chain with OAuth2 login configuration and custom authorization request resolver
- **oauth2LoginFailureHandler**: Handles OAuth2 authentication failures with tenant-aware logging
- **oidcUserService**: Custom OIDC user service that handles auto-provisioning and user attribute mapping
- **microsoftAwareJwtDecoderFactory**: Specialized JWT decoder factory with Microsoft Azure AD multi-tenant issuer validation
- **autoProvisionIfNeeded**: Provisions users automatically based on tenant SSO configuration and domain policies

## Usage Example

```java
// The configuration automatically applies to all requests
// OAuth2 login endpoints are configured with tenant-aware routing
GET /oauth2/authorization/microsoft
GET /oauth2/authorization/google

// Protected endpoints require authentication
GET /api/users -> requires valid OAuth2 token

// Public endpoints bypass authentication
GET /login -> permitted for all
GET /tenant/info -> permitted for all
GET /.well-known/openid_configuration -> permitted for all

// Microsoft Azure AD token validation
// Accepts issuer patterns: https://login.microsoftonline.com/{tenant-id}/v2.0
```

The configuration supports multiple OAuth2 providers with tenant-specific customization, automatic user provisioning based on email domain policies, and specialized handling for Microsoft Azure AD multi-tenant scenarios.