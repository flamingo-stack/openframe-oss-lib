<!-- source-hash: 66ddb4d542149cf0723a840fc4afd8bd -->
This Spring Security configuration class provides OAuth2/OIDC authentication setup for a multi-tenant authorization system with auto-provisioning capabilities and Microsoft Azure AD integration.

## Key Components

**Main Configuration:**
- `defaultSecurityFilterChain()` - Configures HTTP security with OAuth2 login and form-based authentication
- `oidcUserService()` - Custom OIDC user service that handles auto-provisioning of users
- `microsoftAwareJwtDecoderFactory()` - JWT decoder factory with Microsoft-specific issuer validation

**Security Features:**
- Multi-tenant SSO support with tenant-specific configurations
- Auto-provisioning of users based on domain policies
- Custom authorization request resolver for SSO cookie handling
- Microsoft Azure AD multi-tenant issuer pattern validation

## Usage Example

```java
@Autowired
private SecurityConfig securityConfig;

// The security filter chain automatically handles:
// - OAuth2/OIDC login flows
// - Auto-provisioning based on tenant SSO config
// - Microsoft-specific JWT validation

// Permitted endpoints include:
// - /oauth/**, /login, /tenant/**, /management/v1/**
// - All other requests require authentication

// Auto-provisioning occurs when:
// - User's email domain matches tenant's allowed domains
// - SSO config enables auto-provisioning
// - Or global domain policy allows the domain
```

The configuration integrates with custom services (`SSOConfigService`, `UserService`, `RegistrationProcessor`) to provide seamless user onboarding and authentication across multiple tenants with different SSO providers.