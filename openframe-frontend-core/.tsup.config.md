<!-- source-hash: a8194d89eb87ec02733495e96a172c69 -->
A tsup build configuration that solves Next.js "use client" directive issues by splitting entries into separate client and server builds.

## Key Components

**Server/Universal Build Configuration:**
- `nats`, `types`, `assets`, `utils`, `fonts`, `tailwind.config` entries
- Treeshaking enabled for smaller bundle sizes
- No "use client" banner needed

**Client Build Configuration:**  
- React components, UI elements, hooks, and browser-dependent code
- `"use client"` banner automatically injected into all output files
- Treeshaking disabled (incompatible with banner injection)

**Shared Build Settings:**
- ESM and CommonJS output formats
- TypeScript declarations generated
- Source maps enabled
- External dependencies excluded from bundle

## Usage Example

```typescript
// Build configuration handles the complexity automatically
// Import server-safe utilities (from server build)
import { navigationTypes } from '@your-package/types/navigation'
import { natsClient } from '@your-package/nats'

// Import client components (from client build with "use client")
import { Button, ToggleGroup } from '@your-package/components/ui' 
import { useCustomHook } from '@your-package/hooks'

// Components work correctly in Next.js without manual "use client" directives
// Server utilities don't cause createContext errors during SSR
```

This configuration prevents the common Next.js error where barrel exports cause server-side execution of client-only code like `createContext()`.