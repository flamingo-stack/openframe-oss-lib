<!-- source-hash: 0a974bf8a851a3d4b7383e1092a5a5be -->
A utility function that converts timestamps into human-readable relative time strings, supporting both past ("5 minutes ago") and future ("in 2 hours") dates with proper pluralization and edge case handling.

## Key Components

- **`formatRelativeTime(timestamp)`** - Main function that accepts ISO date strings or millisecond timestamps and returns formatted relative time strings
- **Input validation** - Handles empty, invalid, and malformed timestamps gracefully
- **Bidirectional formatting** - Supports both past dates (using "ago" suffix) and future dates (using "in" prefix)
- **Smart pluralization** - Automatically handles singular/plural forms for time units

## Usage Example

```typescript
import { formatRelativeTime } from './format-relative-time';

// Past dates
formatRelativeTime('2024-01-01T00:00:00Z'); // "5 days ago"
formatRelativeTime(Date.now() - 3600000);   // "1 hour ago"
formatRelativeTime(Date.now() - 60000);     // "1 minute ago"

// Future dates
formatRelativeTime(Date.now() + 86400000);  // "in 1 day"
formatRelativeTime(Date.now() + 1800000);   // "in 30 minutes"

// Edge cases
formatRelativeTime('');          // "Not scheduled"
formatRelativeTime('invalid');   // "Invalid date"
formatRelativeTime(Date.now());  // "just now"

// In a React component
const LastUpdated = ({ timestamp }: { timestamp: string }) => (
  <span>Last updated {formatRelativeTime(timestamp)}</span>
);
```

The function automatically calculates time differences and selects the most appropriate unit (seconds, minutes, hours, or days) for optimal readability.