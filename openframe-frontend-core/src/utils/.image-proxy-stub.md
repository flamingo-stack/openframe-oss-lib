<!-- source-hash: f63313ca4eeaf448cdcba009b26703d3 -->
Utility module for handling image proxy URLs to route external images through a secure proxy endpoint while preserving local and trusted domain images.

## Key Components

- **`getProxiedImageUrl(imageUrl: string | null): string | null`** - Converts external HTTP/HTTPS URLs to use the `/api/image-proxy` endpoint while preserving local URLs and OpenMSP domain images
- **`shouldProxyImage(imageUrl: string | null): boolean`** - Determines whether an image URL requires proxying based on protocol and domain checks

## Usage Example

```typescript
import { getProxiedImageUrl, shouldProxyImage } from './image-proxy-stub';

// External image gets proxied
const externalUrl = 'https://example.com/image.jpg';
const proxied = getProxiedImageUrl(externalUrl);
// Result: '/api/image-proxy?url=https%3A//example.com/image.jpg'

// Local images pass through unchanged
const localUrl = '/assets/logo.png';
const unchanged = getProxiedImageUrl(localUrl);
// Result: '/assets/logo.png'

// OpenMSP domains are trusted and not proxied
const trustedUrl = 'https://cdn.openmsp.ai/image.jpg';
const trusted = getProxiedImageUrl(trustedUrl);
// Result: 'https://cdn.openmsp.ai/image.jpg'

// Check if proxying is needed
if (shouldProxyImage(imageUrl)) {
  console.log('This image will be proxied');
}
```