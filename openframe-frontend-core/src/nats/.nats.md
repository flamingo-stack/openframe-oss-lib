<!-- source-hash: 896fd0fa486a3b6f264322d6da28d704 -->
A TypeScript wrapper for NATS messaging that provides a simplified client interface with WebSocket support, designed specifically for browser and Tauri environments.

## Key Components

- **`NatsClient`** - Main interface providing connection management, publish/subscribe, and request/reply messaging
- **`createNatsClient(options)`** - Factory function that creates a configured NATS client instance
- **`NatsClientOptions`** - Configuration interface for server URLs, authentication, reconnection, and timeout settings
- **Message Types** - Support for bytes, string, and JSON payloads with type safety
- **Status Events** - Real-time connection status monitoring with event listeners

## Usage Example

```typescript
import { createNatsClient } from './nats'

// Create and configure client
const nats = createNatsClient({
  servers: "wss://nats.example.com:443",
  name: "my-app",
  token: "your-auth-token",
  reconnect: true,
  maxReconnectAttempts: 5
})

// Connect and handle status
await nats.connect()
const unsubscribeStatus = nats.onStatus((event) => {
  console.log('NATS status:', event.status)
})

// Publish messages
nats.publishString("chat.room1", "Hello world!")
nats.publishJson("user.login", { userId: 123, timestamp: Date.now() })

// Subscribe to messages
const sub = nats.subscribeJson<ChatMessage>("chat.>", (payload, msg) => {
  console.log(`Received on ${msg.subject}:`, payload)
}, { queue: "chat-processors" })

// Request/reply pattern
const response = await nats.requestJson<UserProfile, { userId: number }>(
  "user.get", 
  { userId: 123 },
  { timeoutMs: 5000 }
)

// Cleanup
sub.unsubscribe()
await nats.close()
```