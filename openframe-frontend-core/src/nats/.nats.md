<!-- source-hash: c85909ba81ed8077d3a889ff6145d073 -->
A WebSocket-based NATS client wrapper that provides type-safe publish, subscribe, and request-reply messaging patterns for browser and Tauri environments. Built on top of the `nats.ws` library with automatic codec handling for bytes, strings, and JSON payloads.

## Key Components

- **`createNatsClient(options)`** - Factory function that creates a NATS client instance
- **`NatsClient`** - Main interface providing connection management and messaging operations
- **`NatsClientOptions`** - Configuration interface for server URLs, authentication, and connection behavior
- **Message Publishing** - `publishBytes()`, `publishString()`, `publishJson()` methods for fire-and-forget messaging
- **Request-Reply** - `requestBytes()`, `requestString()`, `requestJson()` methods for synchronous communication
- **Subscriptions** - `subscribeBytes()`, `subscribeString()`, `subscribeJson()` methods with queue groups and auto-unsubscribe
- **Status Monitoring** - `onStatus()` method for connection state changes and error handling

## Usage Example

```typescript
import { createNatsClient } from './nats'

// Create client with WebSocket connection
const client = createNatsClient({
  servers: 'wss://nats.example.com:443',
  name: 'my-app',
  token: 'auth-token'
})

// Connect and handle status
await client.connect()
client.onStatus(({ status }) => console.log('NATS status:', status))

// Publish JSON message
client.publishJson('user.created', { id: 123, name: 'Alice' })

// Subscribe to messages with queue group
const handle = client.subscribeJson<UserEvent>('user.*', 
  (payload, msg) => {
    console.log('Received:', payload, 'on subject:', msg.subject)
  },
  { queue: 'workers' }
)

// Request-reply pattern
const response = await client.requestJson<UserResponse, UserRequest>(
  'user.get', 
  { userId: 123 },
  { timeoutMs: 5000 }
)

// Clean up
handle.unsubscribe()
await client.close()
```