<!-- source-hash: 05fb0c35b05cd50cb980e829cbae53f6 -->
A flexible React component for displaying chat messages with support for text, tool executions, avatars, and typing indicators in a conversational interface.

## Key Components

- **ChatMessageEnhanced**: Main forwardRef component for rendering chat messages
- **MessageSegment**: Union type for different content types (text or tool execution)
- **MessageContent**: Content type that can be a string or array of segments
- **ChatMessageEnhancedProps**: Interface extending HTML div attributes with chat-specific props
- **normalizeContent()**: Utility function to convert string content to segment array

## Usage Example

```typescript
import { ChatMessageEnhanced } from './chat-message-enhanced'

// Basic text message
<ChatMessageEnhanced
  role="user"
  content="Hello, how are you?"
  name="John"
  timestamp={new Date()}
/>

// Assistant message with mixed content
<ChatMessageEnhanced
  role="assistant"
  content={[
    { type: 'text', text: 'Let me help you with that.' },
    { type: 'tool_execution', data: toolExecutionData }
  ]}
  isTyping={false}
  showAvatar={true}
/>

// Error message
<ChatMessageEnhanced
  role="error"
  content="Something went wrong"
  showAvatar={false}
/>
```

The component automatically handles avatar display, content rendering with markdown support, tool execution expansion states, and responsive styling based on the message role.