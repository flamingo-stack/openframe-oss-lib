<!-- source-hash: e665cf242c1c2ceef29c09f3e0bd87d4 -->
This component renders enhanced chat messages with support for different message types including text, tool executions, and approval requests, featuring role-based styling and avatars for Flamingo's AI assistants (Mingo and Fae).

## Key Components

- **ChatMessageEnhanced**: Main message component with role-based rendering (`user`, `assistant`, `error`)
- **MessageSegment**: Union type for different content types (text, tool execution, approval request)
- **normalizeContent()**: Utility to convert string content to segment array format
- **Avatar system**: Dynamic avatar rendering with assistant-specific gradients (cyan for Mingo, pink for Fae)
- **Tool execution display**: Collapsible tool execution results with expand/collapse state management
- **Approval request handling**: Interactive approval workflow components

## Usage Example

```typescript
import { ChatMessageEnhanced } from './chat-message-enhanced'

// Simple text message
<ChatMessageEnhanced
  role="assistant"
  content="Hello! How can I help you today?"
  assistantType="fae"
  timestamp={new Date()}
/>

// Complex message with multiple segments
<ChatMessageEnhanced
  role="assistant"
  content={[
    { type: 'text', text: 'I found the following information:' },
    { 
      type: 'tool_execution', 
      data: { 
        integratedToolType: 'search',
        toolFunction: 'webSearch',
        result: 'Search results...'
      }
    },
    {
      type: 'approval_request',
      data: { requestId: '123', description: 'Execute script?' },
      status: 'pending',
      onApprove: (id) => console.log('Approved:', id)
    }
  ]}
  assistantType="mingo"
  showAvatar={true}
/>
```