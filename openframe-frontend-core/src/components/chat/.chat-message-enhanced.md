<!-- source-hash: 6d8a7239cbde9ae7f74f501951edde3f -->
A comprehensive React component that renders enhanced chat messages with support for multiple content types, avatars, and specialized message segments like tool executions and approval requests.

## Key Components

**Main Exports:**
- `ChatMessageEnhanced` - Memoized forwardRef component for rendering chat messages
- `normalizeContent()` - Utility function to convert string content to MessageSegment array

**Key Features:**
- **Multi-segment Content**: Renders text, tool executions, approval requests, and error messages
- **Assistant Differentiation**: Supports Mingo (cyan) and Fae (pink) assistant types with distinct styling
- **Avatar System**: Configurable avatars with fallback initials and gradient backgrounds
- **Tool Expansion**: Collapsible tool execution displays with state management
- **Performance Optimized**: Memoized with shallow prop comparison for re-render prevention

**Content Types Supported:**
- Text messages with markdown rendering
- Tool execution displays (expandable)
- Approval request messages with actions
- Error message displays
- Typing indicators

## Usage Example

```typescript
import { ChatMessageEnhanced } from "./chat-message-enhanced"

// Basic text message
<ChatMessageEnhanced
  role="assistant"
  assistantType="mingo"
  content="Hello! How can I help you today?"
  timestamp={new Date()}
  showAvatar={true}
/>

// Multi-segment message with tool execution
<ChatMessageEnhanced
  role="assistant" 
  assistantType="fae"
  content={[
    { type: 'text', text: 'Let me check that for you.' },
    { 
      type: 'tool_execution',
      data: {
        integratedToolType: 'api',
        toolFunction: 'getData',
        status: 'completed'
      }
    }
  ]}
  name="Fae Assistant"
/>

// User message
<ChatMessageEnhanced
  role="user"
  content="Can you help me with my query?"
  name="John Doe"
  avatar="/user-avatar.png"
/>
```