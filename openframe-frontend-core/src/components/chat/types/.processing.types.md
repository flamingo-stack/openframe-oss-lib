<!-- source-hash: 66e8aa55f2252ec223d9953d34fa0194 -->
TypeScript definitions for message processing and transformation, providing a complete type system for handling streaming chat messages, tool executions, approvals, and data transformations.

## Key Components

**Core Processing Types:**
- `ParsedChunkAction` - Union type defining all possible chunk processing actions (text, tool execution, approvals, metadata)
- `AccumulatorState` - State container tracking message segments, text buffers, and pending operations
- `MessageProcessingOptions` - Configuration for message processing including assistant settings and approval callbacks

**Processing Infrastructure:**
- `ChunkProcessor` - Interface for processing individual data chunks with reset capability
- `StreamProcessor` - Interface for managing streaming operations with lifecycle controls
- `MessageTransformer` - Interface for converting raw data into processed messages

**Buffer Management:**
- `BufferManager` - Interface for managing chunk buffers with size limits and overflow handling
- `BufferOptions` - Configuration for buffer behavior including flush intervals and callbacks

## Usage Example

```typescript
import type { MessageProcessingOptions, AccumulatorState } from './processing.types'

// Configure message processing
const options: MessageProcessingOptions = {
  assistantName: 'Fae',
  assistantType: 'fae',
  onApprove: async (requestId) => {
    await handleApproval(requestId, true)
  },
  displayApprovalTypes: ['COMMAND_EXECUTION', 'FILE_ACCESS']
}

// Initialize accumulator state
const state: AccumulatorState = {
  segments: [],
  currentTextBuffer: '',
  pendingApprovals: new Map(),
  executingTools: new Map()
}

// Process chunk with type safety
const processor: ChunkProcessor = {
  processChunk: (chunk, type) => {
    return { action: 'text', text: chunk.content }
  },
  reset: () => state.segments = []
}
```