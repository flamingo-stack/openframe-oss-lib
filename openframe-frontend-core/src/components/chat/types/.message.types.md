<!-- source-hash: 85b8ef73de713600cd760aa44e399e60 -->
This file defines comprehensive TypeScript types for message handling in a chat system that supports AI assistants, tool execution, and approval workflows.

## Key Components

**Core Message Types:**
- `MESSAGE_TYPE` - Constants for all message types (TEXT, EXECUTING_TOOL, APPROVAL_REQUEST, etc.)
- `MessageData` - Union type for all possible message data structures from GraphQL/API
- `MessageSegment` - Union type for different content segments (text, tool execution, approval requests, errors)
- `ProcessedMessage` - Processed message structure for UI display
- `HistoricalMessage` - Message structure for chat history storage

**Tool Execution Types:**
- `ToolExecutionData` - Structure for tool execution parameters and results
- `ExecutingToolMessageData` / `ExecutedToolMessageData` - API message data for tool operations

**Approval System Types:**
- `ApprovalRequestData` - Structure for approval requests with commands and explanations
- `ApprovalResultData` - Structure for approval responses
- `ApprovalRequestSegment` - UI segment with approval callbacks

## Usage Example

```typescript
// Creating a text message
const textMessage: Message = {
  id: 'msg-123',
  role: 'assistant',
  content: 'Hello! How can I help you today?',
  assistantType: 'MINGO',
  timestamp: new Date()
}

// Creating a tool execution message
const toolMessage: ProcessedMessage = {
  id: 'msg-456',
  role: 'assistant',
  content: [{
    type: 'tool_execution',
    data: {
      type: 'EXECUTING_TOOL',
      integratedToolType: 'file_system',
      toolFunction: 'readFile',
      parameters: { path: '/config/settings.json' }
    }
  }],
  timestamp: new Date()
}

// Creating an approval request segment
const approvalSegment: ApprovalRequestSegment = {
  type: 'approval_request',
  data: {
    command: 'sudo rm -rf /tmp/cache',
    explanation: 'Clear temporary cache files',
    approvalRequestId: 'req-789'
  },
  onApprove: async (requestId) => {
    console.log(`Approved request: ${requestId}`)
  }
}
```