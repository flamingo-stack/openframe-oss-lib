<!-- source-hash: 2cb4b6bbac4078d643ed0550733c9b7d -->
A React hook for processing real-time NATS message chunks into structured message segments, handling approvals, tool executions, and error states with accumulator-based state management.

## Key Components

- **`useRealtimeChunkProcessor`** - Main hook that processes streaming chunks and manages message state
- **`processChunk`** - Core function that parses incoming chunks and updates message segments
- **`MessageSegmentAccumulator`** - State manager for building up message segments from streaming data
- **Action handlers** - Support for text, tool execution, approval requests, metadata, and error chunks
- **Approval management** - Tracks pending and escalated approvals with status updates

## Usage Example

```typescript
import { useRealtimeChunkProcessor } from './use-realtime-chunk-processor'

function ChatComponent() {
  const processor = useRealtimeChunkProcessor({
    callbacks: {
      onSegmentsUpdate: (segments) => setMessageSegments(segments),
      onStreamStart: () => setIsStreaming(true),
      onStreamEnd: () => setIsStreaming(false),
      onApprove: (requestId) => handleApproval(requestId, true),
      onReject: (requestId) => handleApproval(requestId, false),
      onError: (error, message) => console.error('Stream error:', error)
    },
    displayApprovalTypes: ['CLIENT'],
    approvalStatuses: { 'req-123': 'approved' },
    initialState: previousChatState
  })

  // Process incoming NATS chunks
  useEffect(() => {
    natsConnection.subscribe((chunk) => {
      processor.processChunk(chunk)
    })
  }, [processor])

  return (
    <div>
      {processor.getSegments().map(segment => 
        <MessageSegment key={segment.id} segment={segment} />
      )}
    </div>
  )
}
```