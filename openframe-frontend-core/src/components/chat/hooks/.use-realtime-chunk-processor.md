<!-- source-hash: 2cb4b6bbac4078d643ed0550733c9b7d -->
A React hook that processes real-time NATS streaming chunks and converts them into structured message segments, handling approval workflows and escalations for chat interfaces.

## Key Components

- **`useRealtimeChunkProcessor`** - Main hook that processes streaming chunks and manages message state
- **Message segment accumulation** - Builds up text and tool execution segments from streaming data
- **Approval workflow handling** - Manages approval requests with escalation support
- **State initialization** - Restores previous state when reconnecting to streams

## Usage Example

```typescript
import { useRealtimeChunkProcessor } from './use-realtime-chunk-processor'

function ChatInterface() {
  const processor = useRealtimeChunkProcessor({
    displayApprovalTypes: ['CLIENT'],
    approvalStatuses: {},
    callbacks: {
      onSegmentsUpdate: (segments) => {
        setMessageSegments(segments)
      },
      onStreamStart: () => setIsStreaming(true),
      onStreamEnd: () => setIsStreaming(false),
      onApprove: (requestId) => handleApproval(requestId, true),
      onReject: (requestId) => handleApproval(requestId, false),
      onEscalatedApproval: (requestId, data) => {
        console.log('Escalated approval required:', data.command)
      },
      onError: (error, message) => {
        console.error('Stream error:', error, message)
      }
    }
  })

  // Process incoming NATS chunks
  const handleChunk = (chunk: unknown) => {
    processor.processChunk(chunk)
  }

  return (
    <div>
      {processor.getSegments().map(segment => (
        <MessageSegment key={segment.id} segment={segment} />
      ))}
    </div>
  )
}
```