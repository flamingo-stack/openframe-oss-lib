<!-- source-hash: b84c1009ede2202c58e10066dd21f030 -->
A React hook that processes real-time NATS streaming chunks into structured message segments, handling text, tool executions, approval requests, and escalated approvals with configurable display types.

## Key Components

- **`useRealtimeChunkProcessor`** - Main hook that accepts options and returns chunk processing utilities
- **`processChunk`** - Core function that parses and handles different chunk action types (message_start, text, tool_execution, approval_request, etc.)
- **Message Accumulator** - Manages message segment state and accumulation via `MessageSegmentAccumulator`
- **Escalated Approvals** - Tracks approval requests that require escalation based on approval types
- **State Management** - Handles initial state restoration and real-time updates

## Usage Example

```typescript
import { useRealtimeChunkProcessor } from './use-realtime-chunk-processor'

function ChatComponent() {
  const processor = useRealtimeChunkProcessor({
    callbacks: {
      onStreamStart: () => console.log('Stream started'),
      onSegmentsUpdate: (segments) => setMessages(segments),
      onApprove: (requestId) => handleApproval(requestId, true),
      onReject: (requestId) => handleApproval(requestId, false),
      onEscalatedApproval: (requestId, data) => notifyAdmin(requestId, data),
      onError: (error) => showError(error)
    },
    displayApprovalTypes: ['CLIENT'], // Show client approvals directly
    approvalStatuses: { 'req-123': 'approved' }, // Known approval states
    initialState: existingChatState // Restore previous state
  })

  // Process incoming NATS chunks
  const handleChunk = (chunk: unknown) => {
    processor.processChunk(chunk)
  }

  return (
    <div>
      {processor.getSegments().map(segment => 
        <MessageSegment key={segment.id} segment={segment} />
      )}
    </div>
  )
}
```