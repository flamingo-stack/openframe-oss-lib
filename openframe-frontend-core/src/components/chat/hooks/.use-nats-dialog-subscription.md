<!-- source-hash: d26d0ac33fd6e63fb5ae010dfb6982cf -->
A React hook for managing NATS WebSocket connections and subscriptions to real-time dialog events. Provides shared connection pooling, automatic reconnection, and subscription lifecycle management.

## Key Components

- **`useNatsDialogSubscription`** - Main hook for subscribing to NATS dialog topics
- **`buildNatsWsUrl`** - Utility function for constructing NATS WebSocket URLs
- **Shared Connection Management** - Automatic connection pooling with reference counting
- **Subscription Handlers** - Message processing for dialog events and admin messages

## Usage Example

```typescript
import { useNatsDialogSubscription, buildNatsWsUrl } from './use-nats-dialog-subscription'

function DialogComponent({ dialogId, authToken }) {
  const { isConnected, isSubscribed } = useNatsDialogSubscription({
    enabled: Boolean(dialogId),
    dialogId,
    topics: ['message', 'admin-message'],
    getNatsWsUrl: () => buildNatsWsUrl(
      'https://api.example.com',
      { token: authToken, includeAuthParam: true }
    ),
    onEvent: (data, messageType) => {
      console.log(`Received ${messageType}:`, data)
    },
    onConnect: () => console.log('Connected to NATS'),
    onDisconnect: () => console.log('Disconnected from NATS'),
    clientConfig: {
      name: 'my-app',
      user: 'client',
      pass: 'secret'
    }
  })

  return (
    <div>
      Status: {isConnected ? 'Connected' : 'Disconnected'}
      Subscribed: {isSubscribed ? 'Yes' : 'No'}
    </div>
  )
}
```

The hook automatically handles connection sharing across multiple instances, reconnection on failures, and cleanup when components unmount or dialog IDs change.