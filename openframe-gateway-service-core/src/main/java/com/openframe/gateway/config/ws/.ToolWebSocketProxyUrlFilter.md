<!-- source-hash: 7388bae9411f098dc0b90044d5e7995c -->
A Spring Cloud Gateway filter that handles WebSocket proxy routing for integrated tools by dynamically resolving tool-specific WebSocket URLs and forwarding requests to the appropriate backend services.

## Key Components

- **Abstract Gateway Filter**: Implements `GatewayFilter` and `Ordered` for Spring Cloud Gateway integration
- **Tool Validation**: Validates tool existence and enabled status before proxying
- **WebSocket URL Resolution**: Retrieves tool-specific WebSocket URLs using `ToolUrlService`
- **Proxy URL Generation**: Uses `ProxyUrlResolver` to create target proxy URIs
- **Abstract Methods**: `getRequestToolId()` and `getEndpointPrefix()` for subclass customization
- **Error Handling**: Comprehensive validation with descriptive error messages

## Usage Example

```java
@Component
public class CustomToolWebSocketFilter extends ToolWebSocketProxyUrlFilter {
    
    public CustomToolWebSocketFilter(
            ReactiveIntegratedToolRepository toolRepository,
            ToolUrlService toolUrlService,
            ProxyUrlResolver proxyUrlResolver) {
        super(toolRepository, toolUrlService, proxyUrlResolver);
    }
    
    @Override
    protected String getRequestToolId(String path) {
        // Extract tool ID from path like /ws/tool/{toolId}/...
        return path.split("/")[3];
    }
    
    @Override
    protected String getEndpointPrefix() {
        return "/api/ws";
    }
}
```

The filter executes after `RouteToRequestUrlFilter` and sets the `GATEWAY_REQUEST_URL_ATTR` attribute to redirect WebSocket connections to the resolved tool endpoint.