<!-- source-hash: 2d6dda8f0b30877125c2011efaa3d5d7 -->
A Spring Cloud Gateway global filter that enforces API key authentication and rate limiting for `/external-api/**` endpoints. This filter validates API keys, checks rate limits, and adds user context headers before forwarding requests to downstream services.

## Key Components

- **ApiKeyAuthenticationFilter** - Main filter class implementing `GlobalFilter` and `Ordered`
- **filter()** - Primary method that processes incoming requests with authentication and rate limiting
- **processValidationResult()** - Handles API key validation results
- **processRateLimitCheck()** - Manages rate limit enforcement
- **addUserContextAndContinue()** - Adds user context headers and forwards valid requests
- **writeErrorResponse()** - Creates standardized error responses for unauthorized/rate-limited requests

## Usage Example

```java
// Configuration is automatically applied through Spring's component scanning
@Component
public class ApiKeyAuthenticationFilter implements GlobalFilter, Ordered {
    // Filter automatically processes requests with X-API-Key header
}

// Example request that would be processed:
// GET /external-api/users
// Headers: X-API-Key: your-api-key-here

// Successful request adds these headers to downstream service:
// X-API-Key-Id: key123
// X-User-Id: user456
// (Original X-API-Key header is removed for security)

// Rate limit exceeded response includes:
// Status: 429 Too Many Requests
// Headers: Retry-After: 60
// X-RateLimit-Limit-Minute: 100
// X-RateLimit-Remaining-Minute: 0
```

The filter runs with order `-100` to ensure early execution and supports configurable rate limit headers through `RateLimitProperties`.