<!-- source-hash: 2d6dda8f0b30877125c2011efaa3d5d7 -->
A Spring Cloud Gateway global filter that provides API key authentication and rate limiting for external API endpoints, processing requests in a reactive pipeline with comprehensive error handling and request statistics.

## Key Components

- **Global Filter Implementation**: Implements `GlobalFilter` and `Ordered` with high priority (-100) to run early in the filter chain
- **Path-based Authentication**: Only applies to `/external-api/**` endpoints while excluding Swagger documentation paths
- **Validation Pipeline**: Uses `ApiKeyValidationService` for key validation and `RateLimitService` for traffic control
- **User Context Injection**: Adds user context headers (`X-API-KEY-ID`, `X-USER-ID`) after successful authentication
- **Rate Limit Headers**: Provides standard HTTP rate limiting headers for minute/hour/day limits
- **Error Response Handling**: Direct JSON error responses since Spring WebFlux filters bypass `@ControllerAdvice`

## Usage Example

The filter automatically processes all gateway requests:

```java
// Configuration example
@Configuration
public class GatewayConfig {
    
    @Bean
    public RouteLocator customRoutes(RouteLocatorBuilder builder) {
        return builder.routes()
            .route("external-api", r -> r
                .path("/external-api/**")
                .uri("lb://backend-service"))
            .build();
    }
}

// Request flow example
// 1. Client sends: GET /external-api/data with X-API-Key: abc123
// 2. Filter validates key and checks rate limits
// 3. Filter adds headers: X-API-KEY-ID: key123, X-USER-ID: user456
// 4. Request forwarded to backend with user context
```

The filter provides comprehensive authentication flow with rate limiting, user context injection, and detailed logging for external API access control.