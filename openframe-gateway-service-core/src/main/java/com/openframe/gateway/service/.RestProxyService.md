<!-- source-hash: a9bd4d04f64bde930cd1d3ac0f3fec73 -->
A reactive Spring service that handles HTTP proxying for integrated tools, supporting both API and agent request patterns with authentication and error handling.

## Key Components

- **`proxyApiRequest()`** - Proxies API requests to integrated tools with credential-based authentication
- **`proxyAgentRequest()`** - Handles agent-specific requests with Tool-Authorization headers
- **`buildApiRequestHeaders()`** - Constructs headers with API key authentication (header, bearer token, or none)
- **`buildAgentRequestHeaders()`** - Builds headers for agent requests using Tool-Authorization
- **`proxy()`** - Core proxying logic with WebClient configuration and error handling
- **`buildHttpClient()`** - Configures Netty HttpClient with SSL, timeouts, and CURL logging

## Usage Example

```java
@RestController
public class ToolController {
    
    private final RestProxyService proxyService;
    
    @PostMapping("/tools/{toolId}/api/**")
    public Mono<ResponseEntity<String>> proxyApi(
            @PathVariable String toolId,
            ServerHttpRequest request,
            @RequestBody String body) {
        return proxyService.proxyApiRequest(toolId, request, body);
    }
    
    @RequestMapping("/tools/{toolId}/agent/**")
    public Mono<ResponseEntity<String>> proxyAgent(
            @PathVariable String toolId,
            ServerHttpRequest request,
            @RequestBody(required = false) String body) {
        return proxyService.proxyAgentRequest(toolId, request, body);
    }
}
```

The service validates tool existence and status, resolves target URIs, applies appropriate authentication headers, and handles both successful responses and error conditions with proper HTTP status codes.