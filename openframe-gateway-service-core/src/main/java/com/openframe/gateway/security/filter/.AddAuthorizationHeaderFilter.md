<!-- source-hash: e9c2352f7dbb82fce75e16b4c3dcbdb2 -->
A Spring WebFilter that normalizes authentication by extracting bearer tokens from multiple sources (cookies, headers, query parameters) and adding a standard Authorization header for downstream resource server authentication.

## Key Components

- **AddAuthorizationHeaderFilter** - Main filter implementing WebFilter interface
- **isPrivatePath()** - Determines if a request path requires authentication
- **resolveBearerToken()** - Extracts tokens from cookies, custom headers, or query parameters
- **CookieService** - Injected service for cookie-based token extraction

## Usage Example

This filter automatically processes incoming requests and adds Authorization headers when needed:

```java
// The filter runs automatically for all requests
// For a request to /api/v1/users without Authorization header:

// 1. Checks if path requires auth (private path)
// 2. Looks for existing Authorization header
// 3. If missing, resolves token from:
//    - access_token cookie (via CookieService)
//    - Access-Token custom header
//    - authorization query parameter
// 4. Adds "Bearer {token}" Authorization header

// Example token resolution priority:
ServerHttpRequest mutated = request.mutate()
    .header(AUTHORIZATION, "Bearer " + resolvedToken)
    .build();
```

The filter supports multiple authentication flows including cookie-based authentication for web clients, header-based for API clients, and query parameter authentication for WebSocket connections, all while maintaining compatibility with Spring Security's resource server configuration.