<!-- source-hash: eb2da7a6dea12967789764eaca7914db -->
A MongoDB document entity that represents the connection state between machines and tools in the system, tracking connection metadata and synchronization timestamps.

## Key Components

- **@Document**: Maps to "tool_connections" MongoDB collection
- **@CompoundIndex**: Ensures unique machine-tool type combinations
- **Fields**:
  - `id`: Primary identifier
  - `machineId`: Reference to connected machine
  - `toolType`: Type of tool (enum)
  - `agentToolId`: External tool identifier
  - `status`: Current connection state (enum)
  - `metadata`: JSON string for tool-specific configuration
  - Timestamp fields for connection lifecycle tracking

## Usage Example

```java
// Create a new tool connection
ToolConnection connection = new ToolConnection();
connection.setMachineId("machine-001");
connection.setToolType(ToolType.SCANNER);
connection.setAgentToolId("scanner-agent-123");
connection.setStatus(ConnectionStatus.CONNECTED);
connection.setMetadata("{\"scanRate\": 1000, \"protocol\": \"TCP\"}");
connection.setConnectedAt(Instant.now());

// Save to repository
toolConnectionRepository.save(connection);

// Query by machine and tool type (uses compound index)
Optional<ToolConnection> existing = toolConnectionRepository
    .findByMachineIdAndToolType("machine-001", ToolType.SCANNER);
```