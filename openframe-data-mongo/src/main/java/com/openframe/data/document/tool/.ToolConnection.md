<!-- source-hash: eb2da7a6dea12967789764eaca7914db -->
This Spring Data MongoDB entity represents connections between machines and tools in the OpenFrame system, tracking connection status and synchronization data with automatic uniqueness constraints.

## Key Components

- **@Document**: Maps to "tool_connections" MongoDB collection
- **@CompoundIndex**: Ensures unique machine-tool type combinations
- **ToolType**: Enum defining supported tool types
- **ConnectionStatus**: Enum tracking connection state
- **Temporal fields**: `connectedAt`, `lastSyncAt`, `disconnectedAt` for connection lifecycle
- **metadata**: JSON string for storing tool-specific configuration data

## Usage Example

```java
// Create a new tool connection
ToolConnection connection = new ToolConnection();
connection.setMachineId("machine-001");
connection.setToolType(ToolType.SENSOR);
connection.setAgentToolId("agent-tool-123");
connection.setStatus(ConnectionStatus.CONNECTED);
connection.setConnectedAt(Instant.now());
connection.setMetadata("{\"config\": \"sensor-specific-data\"}");

// The compound index ensures only one connection per machine-tool type
// Attempting to save another SENSOR connection for "machine-001" would fail
```

The compound index `machine_tool_idx` enforces business rule that each machine can have only one connection per tool type, preventing duplicate tool registrations while allowing multiple different tool types per machine.