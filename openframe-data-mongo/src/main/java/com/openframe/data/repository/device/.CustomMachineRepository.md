<!-- source-hash: 43df333990bc8220d99a4af5db4dbdd0 -->
A custom repository interface for advanced machine/device querying with cursor-based pagination and dynamic filtering capabilities in the OpenFrame platform.

## Key Components

- **`buildDeviceQuery()`** - Constructs MongoDB queries from filter objects and search terms
- **`findMachinesWithCursor()`** - Implements cursor-based pagination for efficient large dataset traversal
- **`isSortableField()`** - Validates whether a field can be used for sorting operations
- **`getDefaultSortField()`** - Returns the default field for sorting when none is specified

## Usage Example

```java
@Service
public class MachineService {
    
    @Autowired
    private CustomMachineRepository customMachineRepository;
    
    public List<Machine> searchMachines(MachineQueryFilter filter, String searchTerm, 
                                       String cursor, int pageSize) {
        // Build the query with filters and search
        Query query = customMachineRepository.buildDeviceQuery(filter, searchTerm);
        
        // Validate sort field or use default
        String sortField = customMachineRepository.isSortableField("lastSeen") 
            ? "lastSeen" 
            : customMachineRepository.getDefaultSortField();
            
        // Execute paginated query
        return customMachineRepository.findMachinesWithCursor(
            query, cursor, pageSize, sortField, "desc"
        );
    }
}
```

This interface enables flexible machine queries with performance-optimized pagination, typically implemented alongside MongoDB repositories for device management operations.