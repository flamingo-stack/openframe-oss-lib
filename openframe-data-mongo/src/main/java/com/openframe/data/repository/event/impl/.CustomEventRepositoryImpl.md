<!-- source-hash: 06368c4e1d34c331a3a2ea4025698553 -->
MongoDB repository implementation that provides custom query operations for Event documents with advanced filtering, cursor-based pagination, and search capabilities.

## Key Components

- **buildEventQuery()** - Constructs MongoDB Query objects with filtering by user IDs, event types, date ranges, and text search
- **findEventsWithCursor()** - Implements cursor-based pagination using ObjectId cursors with configurable sorting
- **findDistinctUserIds()** - Retrieves all unique user IDs from the Event collection
- **findDistinctEventTypes()** - Retrieves all unique event types from the Event collection
- **isSortableField()** - Validates if a field is allowed for sorting operations
- **getDefaultSortField()** - Returns the default sort field (_id)

## Usage Example

```java
@Autowired
private CustomEventRepository eventRepository;

// Build filtered query
EventQueryFilter filter = new EventQueryFilter();
filter.setUserIds(List.of("user1", "user2"));
filter.setEventTypes(List.of("LOGIN", "LOGOUT"));
filter.setStartDate(LocalDate.of(2024, 1, 1));

Query query = eventRepository.buildEventQuery(filter, "search term");

// Get paginated results with cursor
List<Event> events = eventRepository.findEventsWithCursor(
    query, 
    "cursor_id", 
    20, 
    "timestamp", 
    "DESC"
);

// Get distinct values for dropdowns
List<String> userIds = eventRepository.findDistinctUserIds();
List<String> eventTypes = eventRepository.findDistinctEventTypes();
```

The repository supports complex date filtering with UTC timezone conversion, case-insensitive text search across type and data fields, and robust cursor pagination with proper ObjectId validation.