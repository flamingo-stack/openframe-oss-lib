<!-- source-hash: 32c5a170075f667dfd1365d4f99c45af -->
Spring Data MongoDB repository interface for managing external application events with time-based and metadata filtering capabilities.

## Key Components

- **ExternalApplicationEventRepository** - Main repository interface extending `MongoRepository<ExternalApplicationEvent, String>`
- **findByUserIdAndTimestampBetween()** - Query method for retrieving events by user within a time range
- **findByTypeAndTags()** - Custom query method for filtering events by type and metadata tags

## Usage Example

```java
@Service
public class EventService {
    
    @Autowired
    private ExternalApplicationEventRepository eventRepository;
    
    // Find user events from last 24 hours
    public List<ExternalApplicationEvent> getRecentUserEvents(String userId) {
        Instant end = Instant.now();
        Instant start = end.minus(24, ChronoUnit.HOURS);
        return eventRepository.findByUserIdAndTimestampBetween(userId, start, end);
    }
    
    // Find events by type with specific tags
    public List<ExternalApplicationEvent> getTaggedEvents(String eventType) {
        Map<String, String> tags = Map.of("priority", "high", "category", "alert");
        return eventRepository.findByTypeAndTags(eventType, tags);
    }
    
    // Save new event
    public ExternalApplicationEvent saveEvent(ExternalApplicationEvent event) {
        return eventRepository.save(event);
    }
}
```

The repository provides both derived query methods using Spring Data naming conventions and custom MongoDB queries using the `@Query` annotation for complex filtering scenarios.