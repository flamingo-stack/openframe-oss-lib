sequenceDiagram
    participant Client
    participant Gateway
    participant JwtSecurityConfig
    participant JwtConfig
    participant UserService

    Client->>Gateway: Sends request with JWT
    Gateway->>JwtSecurityConfig: Forwards request for authentication
    JwtSecurityConfig->>JwtConfig: Validates JWT
    JwtSecurityConfig->>UserService: Loads user details if token is valid
    JwtSecurityConfig-->>Gateway: Returns authentication result
    Gateway-->>Client: Responds with protected resource or error