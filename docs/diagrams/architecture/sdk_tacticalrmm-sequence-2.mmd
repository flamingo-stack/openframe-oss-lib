sequenceDiagram
    participant Ext as "External System"
    participant SDK as "RegistrationSecretParser"
    participant Model as "AgentInfo/AgentListItem"
    participant Ctrl as "AgentRegistrationSecretController"
    participant DB as "Device (MongoDB)"

    Ext->>SDK: Provide registration secret
    SDK->>Model: Parse secret, create AgentInfo
    SDK->>Ctrl: Return parsed agent info
    Ctrl->>DB: Persist agent/device record