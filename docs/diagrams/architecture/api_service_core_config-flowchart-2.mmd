flowchart TD
    subgraph ConfigLayer
        A["ApiApplicationConfig"]
        B["AuthenticationConfig"]
        C["SecurityConfig"]
        D["RestTemplateConfig"]
        E["DateScalarConfig"]
        F["InstantScalarConfig"]
        G["DataInitializer"]
    end

    subgraph ServiceLayer
        S1["InstalledAgentService"]
        S2["TagService"]
        S3["ToolConnectionService"]
    end

    subgraph ControllerLayer
        C1["UserController"]
        C2["DeviceController"]
        C3["OrganizationController"]
        C4["HealthController"]
    end

    A -->|exposes beans| C1
    A -->|exposes beans| C2
    A -->|exposes beans| C3
    A -->|exposes beans| C4
    B -->|auth config| C1
    B -->|auth config| C2
    C -->|security filters| C1
    C -->|security filters| C2
    D -->|http client| S1
    D -->|http client| S2
    D -->|http client| S3
    E -->|date scalar| C1
    F -->|instant scalar| C1
    G -->|init data| S1
    G -->|init data| S2
    G -->|init data| S3