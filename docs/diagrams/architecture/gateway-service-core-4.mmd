flowchart TD
    ClientWS["WebSocket Client"] --> GatewayWS["Gateway WebSocket Route"]

    GatewayWS --> ApiFilter["ToolApiWebSocketProxyUrlFilter"]
    GatewayWS --> AgentFilter["ToolAgentWebSocketProxyUrlFilter"]

    ApiFilter --> ToolApi["Tool API WS Endpoint"]
    AgentFilter --> ToolAgent["Tool Agent WS Endpoint"]

    GatewayWS --> NatsRoute["NATS WS Route"]
