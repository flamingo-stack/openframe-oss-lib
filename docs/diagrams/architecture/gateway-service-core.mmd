flowchart LR
    Client["Client / UI / Agent"] --> Gateway["Gateway Service Core"]
    Gateway --> ApiService["API Service Core"]
    Gateway --> ExternalApi["External API Service Core"]
    Gateway --> AuthService["Authorization Service Core"]
    Gateway --> Tools["Integrated Tools"]
    Gateway --> Nats["NATS WebSocket"]

    subgraph security_layer["Security & Filters"]
        Jwt["JWT Validation"]
        ApiKey["API Key Filter"]
        Cors["CORS / Origin Sanitizer"]
    end

    Gateway --> Jwt
    Gateway --> ApiKey
    Gateway --> Cors
