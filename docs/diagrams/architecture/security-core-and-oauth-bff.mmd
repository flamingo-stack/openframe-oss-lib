flowchart LR
    Browser["Browser Client"] -->|"GET /oauth/login"| BffController["OAuthBffController"]
    BffController -->|"Build authorize URL"| AuthServer["Authorization Server"]
    AuthServer -->|"Authorization Code"| BffController
    BffController -->|"Token Exchange"| AuthServer
    BffController -->|"Set Auth Cookies"| Browser

    BffController --> JwtSecurity["JwtSecurityConfig"]
    JwtSecurity --> JwtEncoder["JwtEncoder"]
    JwtSecurity --> JwtDecoder["JwtDecoder"]

    BffController --> PKCE["PKCEUtils"]
    BffController --> DevStore["OAuthDevTicketStore"]
