<!-- source-hash: 703aaf2da94fa2cba2d81a01a403c9b3 -->
Handles transformation between internal device data models and external API response formats, providing comprehensive mapping for device information, pagination, filtering, and sorting within the OpenFrame platform.

## Key Components

- **toDeviceResponse()** - Converts Machine entity to DeviceResponse DTO with optional tags
- **toDevicesResponse()** - Maps paginated query results to DevicesResponse with metadata
- **toDevicesResponseWithTags()** - Enhanced version that includes tag associations per device
- **toDeviceFilterResponse()** - Transforms filter criteria into filter response format
- **toSortInput()** - Converts external sort criteria to internal sort input format
- **Private helper methods** - Handle tag mapping and filter option transformations

## Usage Example

```java
@Service
public class DeviceService {
    
    @Autowired
    private DeviceMapper deviceMapper;
    
    public DevicesResponse getDevices(DeviceQuery query) {
        // Get paginated machine results from repository
        CountedGenericQueryResult<Machine> queryResult = deviceRepository.findDevices(query);
        
        // Convert to API response format
        return deviceMapper.toDevicesResponse(queryResult);
    }
    
    public DeviceResponse getDeviceWithTags(String deviceId) {
        Machine machine = deviceRepository.findById(deviceId);
        List<Tag> tags = tagService.getTagsForDevice(deviceId);
        
        // Map to response with tags included
        return deviceMapper.toDeviceResponse(machine, tags);
    }
    
    public DeviceFilterResponse getFilterOptions(DeviceFilters filters) {
        // Transform filter data for frontend consumption
        return deviceMapper.toDeviceFilterResponse(filters);
    }
}
```

The mapper extends BaseRestMapper to inherit common transformation utilities and follows the builder pattern for clean object construction. It handles complex scenarios like batch tag mapping and maintains proper pagination metadata throughout transformations.