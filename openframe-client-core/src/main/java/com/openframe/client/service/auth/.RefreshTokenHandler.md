<!-- source-hash: ea1f36e5481f101bb80a793ea57d9f57 -->
A Spring component that handles OAuth2 refresh token operations, validating tokens and generating new access/refresh token pairs for authenticated clients.

## Key Components

- **`handle(String refreshToken)`** - Main method that processes refresh token requests and returns new token pairs
- **`validateExpiration(Jwt jwt)`** - Validates that the refresh token hasn't expired
- **`validateRefreshCount(long refreshCount)`** - Ensures the token hasn't exceeded maximum refresh attempts
- **Dependencies**: JwtService, OAuthClientRepository, AccessTokenGenerator, RefreshTokenGenerator

## Usage Example

```java
@Autowired
private RefreshTokenHandler refreshTokenHandler;

// Process a refresh token request
public AgentTokenResponse refreshTokens(String clientRefreshToken) {
    try {
        AgentTokenResponse response = refreshTokenHandler.handle(clientRefreshToken);
        // Returns new access token, refresh token, token type, and expiration
        return response;
    } catch (IllegalArgumentException e) {
        // Handle expired tokens or invalid clients
        log.error("Token refresh failed: {}", e.getMessage());
        throw e;
    }
}
```

The handler automatically validates token expiration, checks refresh count limits, verifies client existence, and generates a complete token response with updated credentials. It throws `IllegalArgumentException` for validation failures like expired tokens, invalid clients, or exceeded refresh limits.