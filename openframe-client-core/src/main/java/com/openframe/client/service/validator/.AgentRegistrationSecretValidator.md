<!-- source-hash: 8801fa3d3ed51bd975e8c615c86f695a -->
Validates agent registration secrets by comparing provided keys against encrypted secrets stored in the database. This component ensures secure agent registration by verifying the initial key matches the active decrypted secret.

## Key Components

- **`validate(String initialKey)`** - Main validation method that checks if the provided initial key matches the active agent registration secret
- **`AgentRegistrationSecretRepository`** - Repository dependency for retrieving active agent secrets
- **`EncryptionService`** - Service dependency for decrypting stored secret keys

## Usage Example

```java
@Autowired
private AgentRegistrationSecretValidator validator;

public void registerAgent(String providedKey) {
    try {
        // Validates the key against active secret
        validator.validate(providedKey);
        // Proceed with agent registration
        processAgentRegistration();
    } catch (AgentRegistrationSecretValidationException e) {
        // Handle validation failures (empty or invalid key)
        log.error("Validation failed: {}", e.getMessage());
    } catch (AgentRegistrationSecretValidationErrorException e) {
        // Handle system errors (no active secret found)
        log.error("System error: {}", e.getMessage());
    }
}
```

The validator throws `AgentRegistrationSecretValidationException` for user input errors (empty/invalid keys) and `AgentRegistrationSecretValidationErrorException` for system-level issues (missing active secrets).