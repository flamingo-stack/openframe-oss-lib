<!-- source-hash: 7ee312bb66007bb3c0b5be8213e70b92 -->
A Spring service that manages machine status updates by processing online/offline events and heartbeats while preventing stale event processing through timestamp validation.

## Key Components

- **updateToOnline()** - Sets machine status to ONLINE with timestamp
- **updateToOffline()** - Sets machine status to OFFLINE with timestamp  
- **processHeartbeat()** - Processes heartbeat events by updating to ONLINE
- **update()** - Core method that validates events and updates machine status
- **isEventNewer()** - Prevents processing of outdated events by comparing timestamps

## Usage Example

```java
@Autowired
private MachineStatusService machineStatusService;

// Handle machine coming online
machineStatusService.updateToOnline("MACHINE_001", Instant.now());

// Process heartbeat to maintain online status
machineStatusService.processHeartbeat("MACHINE_001", Instant.now());

// Handle machine going offline
machineStatusService.updateToOffline("MACHINE_001", Instant.now());
```

The service automatically ignores stale events (older timestamps) and throws `MachineNotFoundException` for unknown machine IDs. All status changes are logged for monitoring and debugging purposes.