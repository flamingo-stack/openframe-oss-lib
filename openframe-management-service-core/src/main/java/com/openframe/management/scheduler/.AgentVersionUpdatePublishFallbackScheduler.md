<!-- source-hash: 85f6e8f488d811594dc2d20387e44a61 -->
A scheduled fallback service that retries publishing failed agent version updates for both OpenFrame clients and integrated tool agents until a configured maximum attempt limit is reached.

## Key Components

- **`publishUnpublishedEntities()`** - Main scheduled method that processes both client configurations and tool agents
- **`processOpenframeClient()`** - Handles retry logic for OpenFrame client configuration publishing
- **`processToolAgent()`** - Handles retry logic for integrated tool agent publishing  
- **`shouldRetryPublish()`** - Determines if an entity should be republished based on publish state and attempt count
- **Configuration Properties**:
  - `openframe.agent-version-update-publish-fallback.enabled` - Enables/disables the scheduler
  - `openframe.agent-version-update-publish-fallback.interval` - Execution interval (default: 30 seconds)
  - `openframe.agent-version-update-publish-fallback.max-attempts` - Maximum retry attempts (default: 5)

## Usage Example

```java
// Enable the scheduler in application.yml
openframe:
  agent-version-update-publish-fallback:
    enabled: true
    interval: 45000  # 45 seconds
    max-attempts: 10

// The scheduler automatically runs and processes unpublished entities
// It checks PublishState for each entity and retries publication if:
// - PublishState is null (never attempted)
// - Entity is not published and attempts < maxPublishAttempts

// Example entity states that trigger republishing:
// - OpenFrameClientConfiguration with publishState.published = false, attempts = 3
// - IntegratedToolAgent with null publishState
```

The scheduler provides resilient agent version update publishing by automatically retrying failed publications, ensuring critical updates eventually reach their destinations despite temporary failures.