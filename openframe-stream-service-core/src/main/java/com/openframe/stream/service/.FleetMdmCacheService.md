<!-- source-hash: 29fe838fe2ff4bc1f321043eb83f004e -->
A Spring service that provides cached access to Fleet MDM data for stream processing activities, enabling efficient retrieval of host-to-agent mappings and query definitions.

## Key Components

- **getAgentId()** - Retrieves agent UUID for a given host ID with caching
- **getQueryById()** - Fetches query definitions by ID with caching  
- **getFleetMdmClient()** - Lazy initialization of Fleet MDM client using integrated tool credentials
- **@Cacheable** annotations on cache strategies (`hostAgentCache`, `fleetQueryCache`)
- **IntegratedToolService** integration for credential management

## Usage Example

```java
@Autowired
private FleetMdmCacheService fleetMdmCacheService;

// Get agent ID for host enrichment
String agentId = fleetMdmCacheService.getAgentId(12345);
if (agentId != null) {
    // Use agent ID in stream processing
    activityEvent.setAgentId(agentId);
}

// Get query metadata for activity enrichment
Query queryDef = fleetMdmCacheService.getQueryById(67890L);
if (queryDef != null) {
    // Enrich activity with query information
    activityEvent.setQueryName(queryDef.getName());
    activityEvent.setQueryDescription(queryDef.getDescription());
}
```

The service uses Spring Cache abstraction to minimize API calls to Fleet MDM, with null-safe operations and comprehensive error handling. Cache keys are based on host/query IDs, and null results are excluded from caching to avoid storing failed lookups.